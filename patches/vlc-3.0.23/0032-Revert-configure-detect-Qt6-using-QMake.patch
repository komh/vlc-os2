From 6f4045202ca096c7d259e77c97bf2d20867c58fa Mon Sep 17 00:00:00 2001
From: KO Myung-Hun <komh78@gmail.com>
Date: Fri, 26 Dec 2025 15:04:30 +0900
Subject: [PATCH 032/120] Revert "configure: detect Qt6 using QMake"

This reverts commit c41cacc68ed1c8cfeb1c45696b90828d52d6e606.

  Conflicts:
    configure.ac
---
 configure.ac                   |  1 -
 modules/gui/qt/Makefile.am     |  5 -----
 modules/gui/qt/private-gui.pro |  3 ---
 modules/gui/qt/qt6.pro         | 26 --------------------------
 4 files changed, 35 deletions(-)
 delete mode 100644 modules/gui/qt/private-gui.pro
 delete mode 100644 modules/gui/qt/qt6.pro

diff --git a/configure.ac b/configure.ac
index e196396607..a57d5851ac 100644
--- a/configure.ac
+++ b/configure.ac
@@ -3871,7 +3871,6 @@ AS_IF([test "${enable_qt}" != "no"], [
 AC_SUBST(QT_VERSION)
 AM_CONDITIONAL(ENABLE_QT, [test "$enable_qt" != "no"])
 AM_CONDITIONAL([HAVE_QT5_X11], [test "${have_qt5_x11}" = "yes"])
-AM_CONDITIONAL([HAVE_QT_GUI_PRIVATE], [test "${have_qt_gui_private}" = "yes"])
 
 dnl
 dnl detect kde4-config patch (used for kde solids).
diff --git a/modules/gui/qt/Makefile.am b/modules/gui/qt/Makefile.am
index 6e787445d8..e97caed492 100644
--- a/modules/gui/qt/Makefile.am
+++ b/modules/gui/qt/Makefile.am
@@ -10,7 +10,6 @@
 #   - Add it to DEPS_res
 
 SUFFIXES += .ui .h .hpp .moc.cpp
-EXTRA_DIST += qt6.pro private-gui.pro
 
 libqt_plugin_la_CPPFLAGS = $(AM_CPPFLAGS) \
 	-DQT_USE_QSTRINGBUILDER \
@@ -42,10 +41,6 @@ if UPDATE_CHECK
 libqt_plugin_la_CPPFLAGS += -DUPDATE_CHECK
 endif
 
-if HAVE_QT_GUI_PRIVATE
-libqt_plugin_la_CPPFLAGS += -DQT_GUI_PRIVATE $(QT_GUI_PRIVATE_CFLAGS)
-endif
-
 libqt_plugin_la_SOURCES = \
 	gui/qt/qt.cpp gui/qt/qt.hpp \
 	gui/qt/menus.cpp gui/qt/menus.hpp \
diff --git a/modules/gui/qt/private-gui.pro b/modules/gui/qt/private-gui.pro
deleted file mode 100644
index e68b3e608e..0000000000
--- a/modules/gui/qt/private-gui.pro
+++ /dev/null
@@ -1,3 +0,0 @@
-QT = gui gui-private
-CONFIG -= debug_and_release
-CONFIG += no_include_pwd
diff --git a/modules/gui/qt/qt6.pro b/modules/gui/qt/qt6.pro
deleted file mode 100644
index 86cf6a79fc..0000000000
--- a/modules/gui/qt/qt6.pro
+++ /dev/null
@@ -1,26 +0,0 @@
-TEMPLATE = app
-
-QT = core gui svg widgets
-QTPLUGIN = qsvgicon qsvg qjpeg qico
-
-CONFIG -= entrypoint
-CONFIG -= debug_and_release
-CONFIG += no_include_pwd
-
-win32 {
-QTPLUGIN += qwindows
-
-versionAtLeast(QT_VERSION, 6.7.0) {
-QTPLUGIN += qmodernwindowsstyle
-} else {
-QTPLUGIN += qwindowsvistastyle
-}
-}
-
-linux {
-QTPLUGIN += qxcb-glx-integration qxcb-egl-integration qxcb qwayland-generic qwayland-egl qgtk3 qxdgdesktopportal xdg-shell
-}
-
-macx {
-QTPLUGIN += qcocoa qmacstyle
-}
-- 
2.50.1

